<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<button id='btn'>单击</button>
	<script>
	var btn=document.getElementById('btn');

	function say(){
		alert('你好')
	}
	function say1(){
		alert('你不好')
	}
        //跨浏览的是事件处理程序
        //兼容DOM2 IE  DOM0的问题

        //dom2
        //ie7
        //dom0

      // 如果dom2支持，否则如果ie7支持， 否则dom0

   /*  if(btn.addEventListener){  //dom2
       btn.addEventListener('click',say,false);
     }else if(btn.attachEvent){  //ie7 8  6
       btn.attachEvent('onclick',say);
     }else{ //dom0
     	btn.onclick=say;
     }*/
   
    //elem 对象  type事件  fn 函数

    function addHandler(elem,type,fn){
      if(elem.addEventListener){  //DOM2下的添加
      	 elem.addEventListener(type,fn,false);
      }else if(elem.attachEvent){  //IE下的添加
      	 elem.attachEvent("on"+type,fn);
      }else{
      	 elem["on"+type]=fn; //dom0下的添加
      }
    }
    
    addHandler(btn,'click',say);
    addHandler(btn,'click',say1);
    removeHandler(btn,'click',say1);

   //跨浏览器的删除事件处理程序 
   //elem 对象  type事件类型  fn 函数

    function removeHandler(elem,type,fn){
    	if(elem.removeEventListener){  //dom2
    		elem.removeEventListener(type,fn,false);
    	}else if(elem.detachEvent){ //IE
    		elem.detachEvent("on"+type,fn)
    	}else{  //dom0
    		elem["on"+type]=null;
    	}
    }

	</script>
</body>
</html>