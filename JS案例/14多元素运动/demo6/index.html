<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<style>
*{margin:0;padding: 0}
#box{width:300px;height: 300px;background: red;opacity: 0.3}
</style>
<body>
<div id="box"></div>
<script>
var box = document.getElementById("box");
box.onmouseover = function(){
	startMove(this,100,"opacity");
}
box.onmouseout = function(){
	startMove(this,30,"opacity");
}
var time = null;
function startMove(obj,end,attr){
	clearInterval(time);
	time = setInterval(function(){
	var speed = (end-Math.round(parseFloat(getStyle(obj,"opacity")*100)))/10;
	
	speed=speed>0?Math.ceil(speed):Math.floor(speed);

	obj.style[attr] = (Math.round(parseFloat(getStyle(obj,"opacity")*100))+speed)/100;
	},50)
}
function getStyle(obj,attr){
	if(obj.currentStyle){
		return obj.currentStyle[attr];
	}else{
		return getComputedStyle(obj,null)[attr];
	}
}
</script>	
</body>
</html>