<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
<input type="text" id='siti'>
<input type="text" id='wuti'>
<span id='span5'>0</span>
<script>
    //1、编写js函数，用于计算a+(a-1)+(a-2)+….+1的和。三种方法实现
    //方法一：
    function fun(a) {
        if (a == 1) {
            return 1;
        } else {
            return a + fun(a - 1)
        }
    }

    console.log(fun(5))

    //方法二：
    var ff = function fn(a) {
        if (a == 1) {
            return 1;
        } else {
            return a + fn(a - 1)
        }
    }

    var n = ff;
    ff = null;
    console.log(n(5));

    //方法三：
    function fn(a) {
        if (a == 1) {
            return 1;
        } else {
            return a + arguments.callee(a - 1)
        }
    }

    var n = fn;
    fn = null;
    console.log(n(5))
    //2、求二维数组所有数的和(封装函数)  var arr=[[2,3],[4,5],[1,3]]
    var arr = [[2, 3], [4, 5], [1, 3]]
    var num = 0;

    function add(str) {
        for (var i = 0; i < str.length; i++) {
            for (var j = 0; j < str[i].length; j++) {
                num += str[i][j]
            }
        }
        return num;
    }

    console.log(add(arr))

    //3、请使用javascript语言创建一个对象代表一个学生,学生主要有以下属性:姓名Jeriy(字符串类型)/年龄22(整型)/三个朋友:Li、Chen、Zhang（数组）/会踢足球(类型为方法),并且调用Jeriy踢足球(弹出football字符串即可)。
    var student = {
        name: 'Jeriy',
        age: 22,
        friends: ['Li', 'Chen', 'Zhang'],
        enjoy: function () {
            alert(student.name + '会踢球')
        }
    }

    console.log(student.friends)
    student.enjoy()

    //4、判断input中用户输入的字符串中是否含有”shianyun”  用正则
    var siti = document.getElementById('siti');

    siti.onblur = function () {
        var val = siti.value;
        var reg = /shianyun/g;
        if (reg.test(val)) {
            alert('存在')
        } else {
            alert('不存在')
        }
    }

    //5、显示input中用户输入的字符串中含有几个a  用正则  'var str = "clouaccaccccadchen";
    /*var wuti=document.getElementById('wuti');
    var span5=document.getElementById('span5');

    wuti.onkeyup=function(){
        var val5=wuti.value;
        var reg5=/a/g;
        var str=val5.match(reg5);
        if(str==''){
            span5.innerHTML=0
        }else{
        span5.innerHTML=str.length
        }

    }*/


    //
    var str = "clouaccaccccadchen";
    var reg5 = /a/g;
    var count = 0;

    for (var i = 0; i < str.length; i++) {
        if (str[i].match(reg5)) {
            count++
        }
    }
    console.log(count)

    //6、编写js函数，用于测试输入的字符串是不是如下格式：xxx-xxx-xxxx-0，x为0-9的数字  正则
    var str = '123-123-1234-0';

    /*var Reg=/^\d{3}-\d{3}-\d{4}-0$/
    console.log(Reg.test(str))
*/
    function liu(str1) {
        var Reg = /^\d{3}-\d{3}-\d{4}-0$/
        if (Reg.test(str)) {
            alert('正确')
        } else {
            alert('错误')
        }
    }

    liu(str)


    //7、为数组扩展indexOf、remove及removeat方法
    //8、
    var name = "The Window";
    var object = {
        name: "My Object",
        getNameFunc: function () {
            return function () {
                return this.name;
            };
        }
    };
    console.log(object.getNameFunc()());   //The Window

    //9
    var name = "The Window";
    var object = {
        name: "My Object",
        getNameFunc: function () {
            var that = this;
            return function () {
                return that.name;
            };
        }
    };
    console.log(object.getNameFunc()());   //My Object
    //10、
    //用三种方法实现打印li的索引（必须有闭包的方法）
    var ul = document.getElementsByTagName('ul');
    var lis = ul[0].getElementsByTagName('li');
    //方法一：
    /*for(var i=0;i<lis.length;i++){
        lis[i].index=i;
        lis[i].onclick=function(){
            alert(this.index)
        }
    }*/
    //方法二：
    /*for(var i=0;i<lis.length;i++){
        lis[i].onclick=(function(name){
            return function(){
                alert(name)
            }
        })(i)
    }
*/
    //方法三
    for (var i = 0; i < lis.length; i++) {
        (function (name) {
            lis[name].onclick = function () {
                alert(name)
            }
        })(i)
    }
</script>

</body>
</html>
